yum install haproxy

global
log 127.0.0.1 local0
log 127.0.0.1 local1 debug
maxconn 45000 # Total Max Connections. This is dependent on ulimit
user haproxy
group haproxy
daemon
 
defaults
timeout server 86400000
timeout connect 86400000
timeout client 86400000
timeout queue 1000s
 
# Configuration for HTTP site
listen http_LinuxFunda 192.168.2.102:80
mode http
balance roundrobin # Load Balancing algorithm
option httpchk
option forwardfor
server server1 192.168.2.100:80 weight 1 maxconn 512 check #disabled
server server2 192.168.2.101:80 weight 1 maxconn 512 check #disabled
 
listen stats 192.168.2.102:31337
mode http
option httpclose
balance roundrobin
stats uri /
stats realm Haproxy\ Statistics
stats refresh 5s
stats auth admin:password123

# service haproxy start
# chkconfig haproxy on

